@model SJOne.Models.UserRolesViewModel

@{

    ViewBag.Title = "UserRoles";
}

<h3>@Html.DisplayFor(model => model.UserName)</h3>
<div id="modDialog" class="modal fade">
    <div id="dialogContent" class="modal-dialog"></div>
</div>

<a class="modCon btn btn-primary btn-sm" href="@Url.Action("AddRoles", "Admin", new { id = Model.Id })">
    <span class="glyphicon glyphicon-pencil"></span> Добавить роли
</a>
<hr />

@foreach (var item in Model.UserRoles)
{
    <dl class="dl-horizontal">
        <dt>@item</dt>
        <dd>
            <a class="btn btn-danger btn-sm" href="@Url.Action("DeleteRole", "Admin", new { id = Model.Id, role = item })">
                <span class="glyphicon glyphicon-trash"></span>
            </a>           
        </dd>
    </dl>
}
<p>
    @Html.ActionLink("Назад", "Index", "Admin") к списку пользователей
</p>


@section scripts
{
    <script type="text/javascript">

        $(function () {
            $.ajaxSetup({ cache: false });
            $(".modCon").click(function (e) {

                e.preventDefault();
                $.get(this.href, function (data) {
                    $('#dialogContent').html(data);
                    $('#modDialog').modal('show');
                });
            });
        })
    </script>
}

