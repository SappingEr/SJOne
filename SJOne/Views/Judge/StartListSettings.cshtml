@using SJOne.Extensions
@using SJOne.Models.Filters
@model SJOne.Models.StartListViewModel

@{
    ViewBag.Title = "Список участников (Настройки)";
}

<div class="jumbotron">
    <h2>Список участников</h2>
    <h4>Настройки</h4>
</div>



@Html.Partial("_SearchUser", new UserFilter())

<div class="table-responsive-md">
    <table class="table table-hover">
        <thead class="thead-dark">
            <tr>
                <th>
                    №
                </th>
                <th>
                    @Html.SortLink("Имя", "Name", "StartListSettings", "Judge", null)
                </th>
                <th>
                    @Html.SortLink("Фамилия", "Surname", "StartListSettings", "Judge", null)
                </th>
                <th>
                    @Html.SortLink("Дата рождения", "DOB", "StartListSettings", "Judge", null)
                </th>
                <th>
                    Опции
                </th>
            </tr>
        </thead>

        @foreach (var item in Model.Athletes)
        {
            <tr>
                <td>
                    @foreach (var n in item.StartNumbersUser)
                    {
                        <h5><span class="badge badge-info"> @n.Number</span></h5>
                    }
                </td>
                <td>
                    @Html.DisplayFor(i => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(i => item.Surname)
                </td>
                <td>
                    @Html.DisplayFor(i => item.DOB)
                </td>
                <td>
                    <a class="btn-sm btn-outline-success" href="@Url.Action("Register", "Judge",
                                       new { id = Model.Id, athleteId = item.Id })">
                        <span class="octicon octicon-check"></span>
                    </a>
                </td>
            </tr>
        }

    </table>

</div>
